-- PonniHub API for Grow A Garden
-- Compatible with KRNL Executor

local PonniHub = {}

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Supported Items Database
local SupportedPets = {
    "Raccoon", "Cat", "Dog", "Fox", "Wolf", "Bear", "Tiger", "Lion", 
    "Elephant", "Giraffe", "Zebra", "Monkey", "Rabbit", "Hamster", 
    "Guinea Pig", "Ferret", "Hedgehog", "Chinchilla", "Parrot", "Eagle"
}

local SupportedSeeds = {
    "Candy Blossom", "Sunflower", "Rose", "Tulip", "Daffodil", "Lily", 
    "Orchid", "Carnation", "Petunia", "Marigold", "Lavender", "Jasmine",
    "Hibiscus", "Dahlia", "Chrysanthemum", "Poppy", "Iris", "Begonia"
}

local SupportedEggs = {
    "Night Egg", "Day Egg", "Fire Egg", "Water Egg", "Earth Egg", 
    "Air Egg", "Light Egg", "Dark Egg", "Rainbow Egg", "Golden Egg",
    "Silver Egg", "Bronze Egg", "Diamond Egg", "Emerald Egg", "Ruby Egg"
}

-- Get Functions
function PonniHub.GetPets()
    return SupportedPets
end

function PonniHub.GetSeeds()
    return SupportedSeeds
end

function PonniHub.GetEggs()
    return SupportedEggs
end

-- Spawn Functions
function PonniHub.SpawnPet(petName, kg, age)
    kg = kg or 1
    age = age or 1
    
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        warn("PonniHub: Character not found!")
        return false
    end
    
    -- Check if pet is supported
    local isSupported = false
    for _, supportedPet in pairs(SupportedPets) do
        if supportedPet:lower() == petName:lower() then
            isSupported = true
            break
        end
    end
    
    if not isSupported then
        warn("PonniHub: Pet '" .. petName .. "' is not supported!")
        return false
    end
    
    -- Create pet object
    local pet = Instance.new("Part")
    pet.Name = petName
    pet.Size = Vector3.new(2, 2, 2)
    pet.Shape = Enum.PartType.Block
    pet.Color = Color3.fromHSV(math.random(), 0.8, 0.9)
    pet.CanCollide = false
    pet.Anchored = false
    pet.Parent = workspace
    pet.CFrame = character.HumanoidRootPart.CFrame + Vector3.new(math.random(-3, 3), 1, math.random(-3, 3))
    
    -- Add pet properties
    local kgValue = Instance.new("IntValue")
    kgValue.Name = "KG"
    kgValue.Value = kg
    kgValue.Parent = pet
    
    local ageValue = Instance.new("IntValue")
    ageValue.Name = "Age"
    ageValue.Value = age
    ageValue.Parent = pet
    
    -- Add pet name tag
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 100, 0, 50)
    billboard.StudsOffset = Vector3.new(0, 2, 0)
    billboard.Parent = pet
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 1, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = petName .. "\nKG: " .. kg .. " | Age: " .. age
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextStrokeTransparency = 0
    nameLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextSize = 12
    nameLabel.Parent = billboard
    
    print("PonniHub: Spawned " .. petName .. " with " .. kg .. " KG and " .. age .. " Age")
    return true
end

function PonniHub.SpawnSeed(seedName)
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        warn("PonniHub: Character not found!")
        return false
    end
    
    -- Check if seed is supported
    local isSupported = false
    for _, supportedSeed in pairs(SupportedSeeds) do
        if supportedSeed:lower() == seedName:lower() then
            isSupported = true
            break
        end
    end
    
    if not isSupported then
        warn("PonniHub: Seed '" .. seedName .. "' is not supported!")
        return false
    end
    
    -- Create seed tool
    local tool = Instance.new("Tool")
    tool.Name = seedName .. " Seed"
    tool.RequiresHandle = true
    tool.Parent = player.Backpack
    
    local handle = Instance.new("Part")
    handle.Name = "Handle"
    handle.Size = Vector3.new(1, 1, 1)
    handle.Shape = Enum.PartType.Ball
    handle.Color = Color3.fromHSV(math.random(), 0.7, 0.8)
    handle.CanCollide = false
    handle.Parent = tool
    
    -- Add seed mesh
    local mesh = Instance.new("SpecialMesh")
    mesh.MeshType = Enum.MeshType.Sphere
    mesh.Scale = Vector3.new(0.5, 0.5, 0.5)
    mesh.Parent = handle
    
    print("PonniHub: Spawned " .. seedName .. " seed")
    return true
end

function PonniHub.SpawnEgg(eggName)
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        warn("PonniHub: Character not found!")
        return false
    end
    
    -- Check if egg is supported
    local isSupported = false
    for _, supportedEgg in pairs(SupportedEggs) do
        if supportedEgg:lower() == eggName:lower() then
            isSupported = true
            break
        end
    end
    
    if not isSupported then
        warn("PonniHub: Egg '" .. eggName .. "' is not supported!")
        return false
    end
    
    -- Create egg
    local egg = Instance.new("Part")
    egg.Name = eggName
    egg.Size = Vector3.new(1.5, 2, 1.5)
    egg.Shape = Enum.PartType.Ball
    egg.Color = Color3.fromHSV(math.random(), 0.6, 0.9)
    egg.CanCollide = false
    egg.Anchored = false
    egg.Parent = workspace
    egg.CFrame = character.HumanoidRootPart.CFrame + Vector3.new(math.random(-2, 2), 1, math.random(-2, 2))
    
    -- Add egg glow effect
    local pointLight = Instance.new("PointLight")
    pointLight.Brightness = 1
    pointLight.Range = 10
    pointLight.Color = egg.Color
    pointLight.Parent = egg
    
    -- Add name tag
    local billboard = Instance.new("BillboardGui")
    billboard.Size = UDim2.new(0, 80, 0, 30)
    billboard.StudsOffset = Vector3.new(0, 2, 0)
    billboard.Parent = egg
    
    local nameLabel = Instance.new("TextLabel")
    nameLabel.Size = UDim2.new(1, 0, 1, 0)
    nameLabel.BackgroundTransparency = 1
    nameLabel.Text = eggName
    nameLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    nameLabel.TextStrokeTransparency = 0
    nameLabel.Font = Enum.Font.GothamBold
    nameLabel.TextSize = 14
    nameLabel.Parent = billboard
    
    print("PonniHub: Spawned " .. eggName)
    return true
end

function PonniHub.Spin(itemName)
    local character = player.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then
        warn("PonniHub: Character not found!")
        return false
    end
    
    -- Create spinning wheel effect
    local spinWheel = Instance.new("Part")
    spinWheel.Name = "SpinWheel"
    spinWheel.Size = Vector3.new(6, 0.5, 6)
    spinWheel.Shape = Enum.PartType.Cylinder
    spinWheel.Color = Color3.fromRGB(255, 215, 0)
    spinWheel.CanCollide = false
    spinWheel.Anchored = true
    spinWheel.Parent = workspace
    spinWheel.CFrame = character.HumanoidRootPart.CFrame + Vector3.new(0, -2, 0)
    
    -- Spin effect
    local spinConnection
    spinConnection = game:GetService("RunService").Heartbeat:Connect(function()
        spinWheel.CFrame = spinWheel.CFrame * CFrame.Angles(0, math.rad(10), 0)
    end)
    
    -- Create result after 3 seconds
    wait(3)
    spinConnection:Disconnect()
    spinWheel:Destroy()
    
    -- Spawn the requested item
    if PonniHub.SpawnSeed(itemName) then
        print("PonniHub: Spin result - " .. itemName .. " seed!")
    else
        -- Try spawning as pet or egg
        if not PonniHub.SpawnPet(itemName, math.random(1, 5), math.random(1, 10)) then
            PonniHub.SpawnEgg(itemName .. " Egg")
        end
    end
    
    return true
end

function PonniHub.Load()
    -- Check if GUI already exists
    if playerGui:FindFirstChild("PonniHub") then
        playerGui.PonniHub:Destroy()
    end
    
    -- Create main GUI
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "PonniHub"
    screenGui.Parent = playerGui
    screenGui.ResetOnSpawn = false
    
    -- Main Frame
    local mainFrame = Instance.new("Frame")
    mainFrame.Name = "MainFrame"
    mainFrame.Parent = screenGui
    mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
    mainFrame.BorderSizePixel = 0
    mainFrame.Position = UDim2.new(0.3, 0, 0.2, 0)
    mainFrame.Size = UDim2.new(0, 450, 0, 550)
    mainFrame.Active = true
    mainFrame.Draggable = true
    
    -- Corner
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 12)
    corner.Parent = mainFrame
    
    -- Title Bar
    local titleBar = Instance.new("Frame")
    titleBar.Name = "TitleBar"
    titleBar.Parent = mainFrame
    titleBar.BackgroundColor3 = Color3.fromRGB(70, 130, 255)
    titleBar.BorderSizePixel = 0
    titleBar.Size = UDim2.new(1, 0, 0, 50)
    
    local titleCorner = Instance.new("UICorner")
    titleCorner.CornerRadius = UDim.new(0, 12)
    titleCorner.Parent = titleBar
    
    local titleFix = Instance.new("Frame")
    titleFix.Parent = titleBar
    titleFix.BackgroundColor3 = Color3.fromRGB(70, 130, 255)
    titleFix.BorderSizePixel = 0
    titleFix.Position = UDim2.new(0, 0, 0.6, 0)
    titleFix.Size = UDim2.new(1, 0, 0.4, 0)
    
    -- Title
    local titleLabel = Instance.new("TextLabel")
    titleLabel.Parent = titleBar
    titleLabel.BackgroundTransparency = 1
    titleLabel.Position = UDim2.new(0, 15, 0, 0)
    titleLabel.Size = UDim2.new(1, -60, 1, 0)
    titleLabel.Font = Enum.Font.GothamBold
    titleLabel.Text = "üåü PonniHub - Garden Spawner"
    titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    titleLabel.TextSize = 18
    titleLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    -- Close Button
    local closeButton = Instance.new("TextButton")
    closeButton.Parent = titleBar
    closeButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
    closeButton.BorderSizePixel = 0
    closeButton.Position = UDim2.new(1, -40, 0, 10)
    closeButton.Size = UDim2.new(0, 30, 0, 30)
    closeButton.Font = Enum.Font.GothamBold
    closeButton.Text = "‚úï"
    closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    closeButton.TextSize = 16
    
    local closeCorner = Instance.new("UICorner")
    closeCorner.CornerRadius = UDim.new(0, 8)
    closeCorner.Parent = closeButton
    
    -- Content Frame
    local contentFrame = Instance.new("ScrollingFrame")
    contentFrame.Parent = mainFrame
    contentFrame.BackgroundTransparency = 1
    contentFrame.Position = UDim2.new(0, 0, 0, 55)
    contentFrame.Size = UDim2.new(1, 0, 1, -55)
    contentFrame.CanvasSize = UDim2.new(0, 0, 2, 0)
    contentFrame.ScrollBarThickness = 6
    
    -- Create UI elements
    local function createButton(text, position, callback)
        local button = Instance.new("TextButton")
        button.Parent = contentFrame
        button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        button.BorderSizePixel = 0
        button.Position = position
        button.Size = UDim2.new(0, 200, 0, 40)
        button.Font = Enum.Font.Gotham
        button.Text = text
        button.TextColor3 = Color3.fromRGB(255, 255, 255)
        button.TextSize = 14
        
        local buttonCorner = Instance.new("UICorner")
        buttonCorner.CornerRadius = UDim.new(0, 8)
        buttonCorner.Parent = button
        
        button.MouseButton1Click:Connect(callback)
        return button
    end
    
    local function createTextBox(placeholder, position)
        local textBox = Instance.new("TextBox")
        textBox.Parent = contentFrame
        textBox.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        textBox.BorderSizePixel = 0
        textBox.Position = position
        textBox.Size = UDim2.new(0, 200, 0, 30)
        textBox.Font = Enum.Font.Gotham
        textBox.PlaceholderText = placeholder
        textBox.Text = ""
        textBox.TextColor3 = Color3.fromRGB(255, 255, 255)
        textBox.TextSize = 12
        
        local textBoxCorner = Instance.new("UICorner")
        textBoxCorner.CornerRadius = UDim.new(0, 6)
        textBoxCorner.Parent = textBox
        
        return textBox
    end
    
    -- Pet Section
    local petLabel = Instance.new("TextLabel")
    petLabel.Parent = contentFrame
    petLabel.BackgroundTransparency = 1
    petLabel.Position = UDim2.new(0, 20, 0, 20)
    petLabel.Size = UDim2.new(1, -40, 0, 30)
    petLabel.Font = Enum.Font.GothamBold
    petLabel.Text = "üêæ PETS"
    petLabel.TextColor3 = Color3.fromRGB(255, 200, 100)
    petLabel.TextSize = 16
    petLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local petNameBox = createTextBox("Pet Name", UDim2.new(0, 20, 0, 60))
    local petKgBox = createTextBox("KG (1-10)", UDim2.new(0, 230, 0, 60))
    local petAgeBox = createTextBox("Age (1-20)", UDim2.new(0, 20, 0, 100))
    
    createButton("Spawn Pet", UDim2.new(0, 230, 0, 100), function()
        local petName = petNameBox.Text
        local kg = tonumber(petKgBox.Text) or 1
        local age = tonumber(petAgeBox.Text) or 1
        if petName ~= "" then
            PonniHub.SpawnPet(petName, kg, age)
        end
    end)
    
    -- Seeds Section
    local seedLabel = Instance.new("TextLabel")
    seedLabel.Parent = contentFrame
    seedLabel.BackgroundTransparency = 1
    seedLabel.Position = UDim2.new(0, 20, 0, 160)
    seedLabel.Size = UDim2.new(1, -40, 0, 30)
    seedLabel.Font = Enum.Font.GothamBold
    seedLabel.Text = "üå± SEEDS"
    seedLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    seedLabel.TextSize = 16
    seedLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local seedNameBox = createTextBox("Seed Name", UDim2.new(0, 20, 0, 200))
    
    createButton("Spawn Seed", UDim2.new(0, 230, 0, 200), function()
        local seedName = seedNameBox.Text
        if seedName ~= "" then
            PonniHub.SpawnSeed(seedName)
        end
    end)
    
    -- Eggs Section
    local eggLabel = Instance.new("TextLabel")
    eggLabel.Parent = contentFrame
    eggLabel.BackgroundTransparency = 1
    eggLabel.Position = UDim2.new(0, 20, 0, 260)
    eggLabel.Size = UDim2.new(1, -40, 0, 30)
    eggLabel.Font = Enum.Font.GothamBold
    eggLabel.Text = "ü•ö EGGS"
    eggLabel.TextColor3 = Color3.fromRGB(255, 255, 100)
    eggLabel.TextSize = 16
    eggLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local eggNameBox = createTextBox("Egg Name", UDim2.new(0, 20, 0, 300))
    
    createButton("Spawn Egg", UDim2.new(0, 230, 0, 300), function()
        local eggName = eggNameBox.Text
        if eggName ~= "" then
            PonniHub.SpawnEgg(eggName)
        end
    end)
    
    -- Spin Section
    local spinLabel = Instance.new("TextLabel")
    spinLabel.Parent = contentFrame
    spinLabel.BackgroundTransparency = 1
    spinLabel.Position = UDim2.new(0, 20, 0, 360)
    spinLabel.Size = UDim2.new(1, -40, 0, 30)
    spinLabel.Font = Enum.Font.GothamBold
    spinLabel.Text = "üé∞ SPIN"
    spinLabel.TextColor3 = Color3.fromRGB(255, 100, 255)
    spinLabel.TextSize = 16
    spinLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local spinNameBox = createTextBox("Item to Spin", UDim2.new(0, 20, 0, 400))
    
    createButton("Start Spin", UDim2.new(0, 230, 0, 400), function()
        local itemName = spinNameBox.Text
        if itemName ~= "" then
            PonniHub.Spin(itemName)
        end
    end)
    
    -- Quick Actions
    createButton("Get All Pets", UDim2.new(0, 20, 0, 460), function()
        print("PonniHub Supported Pets:")
        for i, pet in ipairs(PonniHub.GetPets()) do
            print(i .. ". " .. pet)
        end
    end)
    
    createButton("Get All Seeds", UDim2.new(0, 230, 0, 460), function()
        print("PonniHub Supported Seeds:")
        for i, seed in ipairs(PonniHub.GetSeeds()) do
            print(i .. ". " .. seed)
        end
    end)
    
    -- Close functionality
    closeButton.MouseButton1Click:Connect(function()
        screenGui:Destroy()
    end)
    
    -- Notification
    game.StarterGui:SetCore("SendNotification", {
        Title = "PonniHub";
        Text = "Garden Spawner UI loaded!";
        Duration = 3;
    })
    
    print("üåü PonniHub UI loaded successfully!")
end

-- Return the API
return PonniHub
